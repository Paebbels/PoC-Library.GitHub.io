

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PoC.mem.ocram.tdp_sim &mdash; The PoC-Library 1.1.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="The PoC-Library 1.1.2 documentation" href="../../../index.html"/>
        <link rel="up" title="PoC.mem.ocram" href="index.html"/>
        <link rel="next" title="PoC.mem.ocram.esdp" href="ocram_esdp.html"/>
        <link rel="prev" title="PoC.mem.ocram.tdp_wf" href="ocram_tdp_wf.html"/> 

  
  <script src="../../../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> The PoC-Library
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../WhatIsPoC/index.html">What is PoC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../QuickStart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../GetInvolved/index.html">Get Involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/Licenses/License.html">Apache License 2.0</a></li>
</ul>
<p class="caption"><span class="caption-text">Main Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../UsingPoC/index.html">Using PoC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Interfaces/index.html">IP Core Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">IP Core Documentations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../common/index.html">common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sim/index.html">sim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../alt/index.html">alt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../arith/index.html">arith</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bus/index.html">bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cache/index.html">cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../comm/index.html">comm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dstruct/index.html">dstruct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fifo/index.html">fifo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../io/index.html">io</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">mem</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../mem.pkg.html">Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddr2/index.html">ddr2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddr3/index.html">ddr3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lut/index.html">lut</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">ocram</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ocram.pkg.html">Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_sp.html">ocram_sp</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_sdp.html">ocram_sdp</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_sdp_wf.html">ocram_sdp_wf</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_tdp.html">ocram_tdp</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_tdp_wf.html">ocram_tdp_wf</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ocram_tdp_sim</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocram_esdp.html">ocram_esdp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ocrom/index.html">ocrom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sdram/index.html">sdram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../misc/index.html">misc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../net/index.html">net</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sort/index.html">sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../xil/index.html">xil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Miscelaneous/ThirdParty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ConstraintFiles/index.html">Constraint Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ToolChains/index.html">Tool Chain Specifics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Examples/index.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../References/CommandReference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/Database.html">IP Core Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PyInfrastructure/index.html">Python Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/more.html">More ...</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ChangeLog/index.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../genindex.html">Index</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Internal/ToDo.html">ToDo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Internal/Sphinx.html">Sphinx</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The PoC-Library</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">IP Core Documentations</a> &raquo;</li>
        
          <li><a href="../index.html">PoC.mem</a> &raquo;</li>
        
          <li><a href="index.html">PoC.mem.ocram</a> &raquo;</li>
        
      <li>PoC.mem.ocram.tdp_sim</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../sources/IPCores/mem/ocram/ocram_tdp_sim.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="poc-mem-ocram-tdp-sim">
<span id="ip-ocram-tdp-sim"></span><h1>PoC.mem.ocram.tdp_sim<a class="headerlink" href="#poc-mem-ocram-tdp-sim" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">GitHub Links</p>
<ul class="last simple">
<li><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/src/mem/ocram/ocram_tdp_sim.vhdl"><img alt="Source Code on GitHub" src="../../../images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/src/mem/ocram/ocram_tdp_sim.vhdl?ts=2">Sourcecode</a></li>
<li><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/tb/mem/ocram/ocram_tdp_sim_tb.vhdl"><img alt="Source Code on GitHub" src="../../../images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/tb/mem/ocram/ocram_tdp_sim_tb.vhdl?ts=2">Testbench</a></li>
</ul>
</div>
<p>Simulation model for true dual-port memory, with:</p>
<ul class="simple">
<li>dual clock, clock enable,</li>
<li>2 read/write ports.</li>
</ul>
<p>The interface matches that of the IP core PoC.mem.ocram.tdp.
But the implementation there is restricted to the description supported by
various synthesis compilers. The implementation here also simulates the
correct Mixed-Port Read-During-Write Behavior and handles X propagation.</p>
<p class="rubric">Entity Declaration:</p>
<div class="highlight-vhdl"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">entity</span> <span class="nc">ocram_tdp_sim</span> <span class="k">is</span>
  <span class="k">generic</span> <span class="p">(</span>
    <span class="n">A_BITS</span>    <span class="o">:</span> <span class="kt">positive</span><span class="p">;</span>                             <span class="c1">-- number of address bits</span>
    <span class="n">D_BITS</span>    <span class="o">:</span> <span class="kt">positive</span><span class="p">;</span>                             <span class="c1">-- number of data bits</span>
    <span class="n">FILENAME</span>  <span class="o">:</span> <span class="kt">string</span>    <span class="o">:=</span> <span class="s">&quot;&quot;</span>                       <span class="c1">-- file-name for RAM initialization</span>
  <span class="p">);</span>
  <span class="k">port</span> <span class="p">(</span>
    <span class="n">clk1</span> <span class="o">:</span> <span class="k">in</span> <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- clock for 1st port</span>
    <span class="n">clk2</span> <span class="o">:</span> <span class="k">in</span> <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- clock for 2nd port</span>
    <span class="n">ce1</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- clock-enable for 1st port</span>
    <span class="n">ce2</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- clock-enable for 2nd port</span>
    <span class="n">we1</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- write-enable for 1st port</span>
    <span class="n">we2</span> <span class="o">:</span> <span class="k">in</span>  <span class="kt">std_logic</span><span class="p">;</span>                              <span class="c1">-- write-enable for 2nd port</span>
    <span class="n">a1</span>   <span class="o">:</span> <span class="k">in</span> <span class="kt">unsigned</span><span class="p">(</span><span class="n">A_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>            <span class="c1">-- address for 1st port</span>
    <span class="n">a2</span>   <span class="o">:</span> <span class="k">in</span> <span class="kt">unsigned</span><span class="p">(</span><span class="n">A_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>            <span class="c1">-- address for 2nd port</span>
    <span class="n">d1</span>   <span class="o">:</span> <span class="k">in</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>    <span class="c1">-- write-data for 1st port</span>
    <span class="n">d2</span>   <span class="o">:</span> <span class="k">in</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>    <span class="c1">-- write-data for 2nd port</span>
    <span class="n">q1</span>   <span class="o">:</span> <span class="k">out</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>   <span class="c1">-- read-data from 1st port</span>
    <span class="n">q2</span>   <span class="o">:</span> <span class="k">out</span> <span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span>    <span class="c1">-- read-data from 2nd port</span>
  <span class="p">);</span>
<span class="k">end</span> <span class="k">entity</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ocram_esdp.html" class="btn btn-neutral float-right" title="PoC.mem.ocram.esdp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ocram_tdp_wf.html" class="btn btn-neutral" title="PoC.mem.ocram.tdp_wf" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2007-2016 Technische Universitaet Dresden - Germany, Chair of VLSI-Design, Diagnostics and Architecture.
      Last updated on Mar 12, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.1.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../static/jquery.js"></script>
      <script type="text/javascript" src="../../../static/underscore.js"></script>
      <script type="text/javascript" src="../../../static/doctools.js"></script>
      <script type="text/javascript" src="http://wavedrom.com/skins/default.js"></script>
      <script type="text/javascript" src="http://wavedrom.com/WaveDrom.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
